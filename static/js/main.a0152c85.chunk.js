(this["webpackJsonpbudget-app"]=this["webpackJsonpbudget-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),s=n(13),a=n.n(s),i=n(14),u=n(1),o=function(){return Object(u.jsx)("h1",{className:"logo",children:Object(u.jsxs)("span",{children:[Object(u.jsx)(i.a,{fontSize:"1.5rem"})," Budget App"]})})},l=(n(23),function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)(o,{})})}),j=n(3),d=function(e){var t={budgetNotSet:"",budgetNegative:""},n=Object(c.useState)(t),r=Object(j.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(!1),u=Object(j.a)(i,2),o=u[0],l=u[1],d=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e;e=function(){return l(!0)},d.current?d.current=!1:e(),o&&b()}),[e]);var b=function(){var t="",n="";return""===e&&(t="Enter a Budget"),e<0&&(n="Budget can't be negative"),a({budgetNotSet:t,budgetNegative:n}),!t&&!n};return{errors:s,resetErrors:function(){a(t),l(!1)},validate:b}},b=(n(24),function(e){var t=e.setBudget,n=Object(c.useState)(""),r=Object(j.a)(n,2),s=r[0],a=r[1],i=d(s),o=i.errors,l=i.resetErrors,b=i.validate;return Object(u.jsxs)("form",{id:"budget-form",className:"form",children:[Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("label",{htmlFor:"budget-input",children:"Please enter your Budget"}),o.budgetNotSet&&Object(u.jsx)("p",{className:"error",children:o.budgetNotSet}),o.budgetNegative&&Object(u.jsx)("p",{className:"error",children:o.budgetNegative}),Object(u.jsx)("input",{id:"budget-input",type:"number",onChange:function(e){return a(e.target.value)},value:s})]}),Object(u.jsx)("div",{className:"submit",children:Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),b()&&(t(parseFloat(s)),a(""),l())},children:"Calculate"})})]})}),f=n(4),O=function(e,t){var n={expenseTitleNotSet:"",expenseValueNotSet:""},r=Object(c.useState)(n),s=Object(j.a)(r,2),a=s[0],i=s[1],u=Object(c.useState)(!1),o=Object(j.a)(u,2),l=o[0],d=o[1],b=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e;e=function(){return d(!0)},b.current?b.current=!1:e()}),[e,t]),Object(c.useEffect)((function(){l&&O()}),[e]),Object(c.useEffect)((function(){l&&x()}),[t]);var O=function(){var t="";return""===e&&(t="Enter a title"),i((function(e){return Object(f.a)(Object(f.a)({},e),{},{expenseTitleNotSet:t})})),!t},x=function(){var e="";return""===t&&(e="Enter a amount value"),i((function(t){return Object(f.a)(Object(f.a)({},t),{},{expenseValueNotSet:e})})),!e};return{errors:a,resetErrors:function(){i(n),d(!1)},validate:function(){var e=O(),t=x();return e&&t}}},x=n(32),p=(n(25),function(e){var t=e.handleOnSubmit,n=e.expenseToEdit,r=Object(c.useState)(n?n.title:""),s=Object(j.a)(r,2),a=s[0],i=s[1],o=Object(c.useState)(n?n.value:""),l=Object(j.a)(o,2),d=l[0],b=l[1],f=Object(c.useState)((null===n||void 0===n?void 0:n.date)?Object(x.a)(n.date,"yyyy-MM-dd"):""),p=Object(j.a)(f,2),m=p[0],v=p[1],h=O(a,d),g=h.errors,N=h.resetErrors,S=h.validate;return Object(u.jsxs)("form",{id:"expense-form",children:[Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("label",{htmlFor:"expense-title-input",children:"Please enter a Expense"}),g.expenseTitleNotSet&&Object(u.jsx)("p",{className:"error",children:g.expenseTitleNotSet}),Object(u.jsx)("input",{id:"expense-title-input",type:"text",onChange:function(e){return i(e.target.value)},value:a,minLength:"1"})]}),Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("label",{htmlFor:"expense-amount-input",children:"Please enter the Expense amount"}),g.expenseValueNotSet&&Object(u.jsx)("p",{className:"error",children:g.expenseValueNotSet}),Object(u.jsx)("input",{id:"expense-amount-input",type:"number",onChange:function(e){return b(e.target.value)},value:d})]}),Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("label",{htmlFor:"expense-date-input",children:"Enter a date of the expense"}),Object(u.jsx)("input",{id:"expense-date-input",type:"date",onChange:function(e){return v(e.target.value)},value:m})]}),Object(u.jsx)("div",{className:"submit",children:Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),S()&&(t(a,parseFloat(d),""!==m?new Date(m):null),i(""),b(""),v(""),N())},children:n?"Save changes":"Add Expense"})})]})}),m=n(2),v=m.useState,h=m.useEffect,g=function(){return{vw:window.innerWidth,vh:window.innerHeight}},N=n(9),S=function(e){var t=e.title,n=e.maxWidth,r=e.children,s=function(){var e=v(g()),t=Object(j.a)(e,2),n=t[0],c=t[1],r=function(){c(g())};return h((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),n}(),a=Object(c.useState)(!1),i=Object(j.a)(a,2),o=i[0],l=i[1];return s.vw>n?r:Object(u.jsxs)("div",{className:"colapse-wrapper",children:[Object(u.jsxs)("div",{className:"colapse-wrapper-header",onClick:function(){return l((function(e){return!e}))},children:[Object(u.jsx)("p",{className:"colapse-wrapper-title",children:t}),o?Object(u.jsx)(N.b,{fontSize:"1.25rem"}):Object(u.jsx)(N.a,{fontSize:"1.25rem"})]}),o&&r]})},E=n(15),A=n(10),y=(n(26),function(e){var t=e.budget,n=function(e,t){var n=function(){return e.reduce((function(e,t){return e+t.value}),0)};return{calculateTotalCost:n,calculateBalance:function(){return t-n()}}}(e.expenses,t),c=n.calculateBalance,r=n.calculateTotalCost;return Object(u.jsxs)("div",{className:"balance-view",children:[Object(u.jsxs)("div",{className:"budget",children:[Object(u.jsx)("h3",{className:"budget-label",children:"Budget"}),Object(u.jsx)(E.a,{fontSize:"3rem"}),Object(u.jsx)("p",{id:"budget-output-amount",children:t})]}),Object(u.jsxs)("div",{className:"expenses",children:[Object(u.jsx)("h3",{className:"expenses-label",children:"Expenses"}),Object(u.jsx)(A.a,{fontSize:"3rem"}),Object(u.jsx)("p",{id:"expenses-output-amount",children:r()})]}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("h3",{className:"balance-label",children:"Balance"}),Object(u.jsx)(A.b,{fontSize:"3rem"}),Object(u.jsx)("p",{id:"balance-output-amount",children:c()})]})]})}),w=n(11),C=(n(12),function(e){var t=e.title,n=e.value,c=e.date,r=e.editExpense,s=e.removeExpense;return Object(u.jsxs)("div",{className:"expense-item",children:[Object(u.jsx)("p",{className:"expense-item-title",children:t}),Object(u.jsx)("p",{className:"expense-item-value",children:n}),Object(u.jsx)("p",{className:"expense-item-date",children:c?Object(x.a)(c,"dd.MM.yyyy"):""}),Object(u.jsxs)("div",{className:"expense-item-actions",children:[Object(u.jsx)(w.b,{className:"expense-item-icon",onClick:r,cursor:"pointer"}),Object(u.jsx)(w.a,{className:"expense-item-icon",onClick:s,cursor:"pointer"})]})]})}),T={asc:!0,desc:!1},B=function(e){var t={"...":e.sortAfterInsertion,Title:e.sortAfterTitle,Value:e.sortAfterValue,Date:e.sortAfterDate},n=Object(c.useState)(!0),r=Object(j.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(Object.keys(t)[0]),o=Object(j.a)(i,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){t[l](s)}),[l,s]),Object(u.jsxs)("div",{className:"sort-expense",children:[Object(u.jsx)("select",{className:"sort-expense-sort-direction",onChange:function(e){return a(T[e.target.value])},children:Object.keys(T).map((function(e){return Object(u.jsx)("option",{children:e},e)}))}),Object(u.jsx)("select",{className:"sort-expense-select",onChange:function(e){return d(e.target.value)},children:Object.keys(t).map((function(e){return Object(u.jsx)("option",{children:e},e)}))})]})},k=(n(27),function(e){var t=e.title,n=e.render,c=e.close,r=e.children;return n?Object(u.jsx)("div",{className:"backdrop",children:Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h3",{children:t}),Object(u.jsx)("span",{className:"modal-close",onClick:c,children:"X"})]}),Object(u.jsx)("div",{className:"modal-body",children:r}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{className:"close-btn",onClick:c,children:"Close"})})]})}):null}),D=function(e){var t=e.expenses,n=e.editExpense,r=e.removeExpense,s=e.sortAfterInsertion,a=e.sortAfterTitle,i=e.sortAfterValue,o=e.sortAfterDate,l=Object(c.useState)(!1),d=Object(j.a)(l,2),b=d[0],f=d[1],O=Object(c.useState)(null),x=Object(j.a)(O,2),m=x[0],v=x[1];return Object(u.jsxs)("div",{className:"expenses-view",children:[Object(u.jsxs)("div",{className:"expenses-view-header",children:[Object(u.jsx)("h3",{children:"Expense"}),Object(u.jsx)("h3",{children:"Value"}),Object(u.jsx)("h3",{children:"Date"}),Object(u.jsx)(B,{sortAfterInsertion:s,sortAfterTitle:a,sortAfterValue:i,sortAfterDate:o})]}),t.map((function(e){return Object(u.jsx)(C,{title:e.title,value:e.value,date:e.date,editExpense:function(){v(e),f(!0)},removeExpense:function(){return r(e.id)}},e.id)})),Object(u.jsx)(k,{title:null===m||void 0===m?void 0:m.title,render:b,close:function(){return f(!1)},children:Object(u.jsx)(p,{handleOnSubmit:function(e,t,c){n(m.id,e,t,c),f(!1)},expenseToEdit:m})})]})},V=n(5),I=function(e,t){return{save:function(){localStorage.setItem(e,JSON.stringify(t))},load:function(){return JSON.parse(localStorage.getItem(e))},clear:function(){localStorage.clear()}}},z=n(16),F=n.n(z),M=(n(29),function(){var e=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],s=I("expenses",n),a=s.save,i=s.load;return Object(c.useEffect)((function(){try{var e=i();r(e?e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{date:e.date?new Date(e.date):null})})):[])}catch(t){console.log(t)}}),[]),Object(c.useEffect)((function(){a()}),[n]),{expenses:n,addExpense:function(e,t,n){r((function(c){return[].concat(Object(V.a)(c),[{id:F()(),title:e,value:t,date:n,timestamp:Date.now()}])}))},editExpense:function(e,t,n,c){r((function(r){return r.map((function(r){return r.id===e?Object(f.a)(Object(f.a)({},r),{},{title:t,value:n,date:c}):r}))}))},removeExpense:function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))},sortAfterInsertion:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r((function(t){return e?Object(V.a)(t).sort((function(e,t){return e.timestamp-t.timestamp})):Object(V.a)(t).sort((function(e,t){return t.timestamp-e.timestamp}))}))},sortAfterTitle:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r((function(t){return e?Object(V.a)(t).sort((function(e,t){return e.title.localeCompare(t.title)})):Object(V.a)(t).sort((function(e,t){return t.title.localeCompare(e.title)}))}))},sortAfterValue:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r((function(t){return e?Object(V.a)(t).sort((function(e,t){return e.value-t.value})):Object(V.a)(t).sort((function(e,t){return t.value-e.value}))}))},sortAfterDate:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r((function(t){return e?Object(V.a)(t).sort((function(e,t){return e.date-t.date})):Object(V.a)(t).sort((function(e,t){return t.date-e.date}))}))}}}(),t=e.expenses,n=e.addExpense,r=e.editExpense,s=e.removeExpense,a=e.sortAfterInsertion,i=e.sortAfterTitle,o=e.sortAfterValue,l=e.sortAfterDate,d=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],r=t[1],s=I("budget",{budget:n}),a=s.save,i=s.load;return Object(c.useEffect)((function(){try{var e=i();r(e?e.budget:0)}catch(t){console.log(t)}}),[]),Object(c.useEffect)((function(){a()}),[n]),{budget:n,setBudget:r}}(),O=d.budget,x=d.setBudget;return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"content-input",children:[Object(u.jsx)(S,{title:"Set Budget",maxWidth:1400,children:Object(u.jsx)(b,{setBudget:x})}),Object(u.jsx)(S,{title:"Add Expense",maxWidth:1400,children:Object(u.jsx)(p,{handleOnSubmit:n})})]}),Object(u.jsxs)("div",{className:"content-output",children:[Object(u.jsx)(y,{budget:O,expenses:t}),Object(u.jsx)(D,{expenses:t,editExpense:r,removeExpense:s,sortAfterInsertion:a,sortAfterTitle:i,sortAfterValue:o,sortAfterDate:l})]})]})});var J=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{}),Object(u.jsx)(M,{})]})};n(30);a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(J,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.a0152c85.chunk.js.map